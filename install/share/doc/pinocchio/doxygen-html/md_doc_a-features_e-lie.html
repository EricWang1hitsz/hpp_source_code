<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>pinocchio: Dealing with Lie group geometry</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="pinocchio.ico" rel="icon" type="image/x-icon">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pinocchio.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pinocchio
   &#160;<span id="projectnumber">2.1.3</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_doc_a-features_e-lie.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Dealing with Lie group geometry </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Pinocchio is relying heavily on Lie groups and Lie algebra to handle motions and more specifically rotations. For this reason it supports the following special groups \( SO(2), SO(3), SE(2), SE(3) \) and implements their associated algebra \(( \mathfrak{se}(2) , \mathfrak{se}(3) \)). It has various applications like representing the motion of a robot free flyer joint (typically the base of a mobile robot), or the motion of the robot links. The later is particularly useful for collision detection. It is also interesting to have general vector space over which a Lie algebra is defined.</p>
<h2>Using \( SE(2) \) with pinocchio in C++</h2>
<p>As a motivating example let us consider a mobile robot evolving in a plane \((\mathbb{R}^2 \times \mathbb{S}^1 \)). </p><div class="image">
<img src="SE2MotivatingExample.svg" alt="SE2MotivatingExample.svg"/>
<div class="caption">
SE2MotivatingExample.svg</div></div>
<p> The robot starts at position \( pose_s=(x_s,y_s,\theta_s) \) and after a rigid motion \( \delta_u=(\delta x,\delta y,\delta \theta) \) it is finishing at position \( pose_g = (x_g,y_g,\theta_g)\). It is possible to instantiate the corresponding \(SE(2)\) objects using:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;typedef double Scalar;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;enum {Options = 0};</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;SpecialEuclideanOperationTpl&lt;2,Scalar,Options&gt; aSE2;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;SpecialEuclideanOperationTpl&lt;2,Scalar,Options&gt;::ConfigVector_t pose_s,pose_g;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;SpecialEuclideanOperationTpl&lt;2,Scalar,Options&gt;::TangentVector_t delta_u;</div></div><!-- fragment --><p> You can change Scalar by another type such as float.</p>
<p>In this example, \(pose_s=(1,1,\pi/4)\) and \( pose_g=(3,1,-\pi/2) \) and we want to compute \( \delta_u \) </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;pose_s(0) = 1.0; pose_s(1) = 1.0;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;pose_s(2) = cos(M_PI/4.0); pose_s(3) = sin(M_PI/4.0);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;pose_g(0) = 3.0; pose_g(1) = -1.0;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;pose_g(2) = cos(-M_PI/2.0); pose_g(3) = sin(-M_PI/2.0);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;aSE2.difference(pose_s,pose_g,delta_u);</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;std::cout &lt;&lt; delta_u &lt;&lt; std::endl;</div></div><!-- fragment --><p>aSE2 is used to compute the difference between two configuration vectors representing the two poses. Note that the rotation is represented by two numbers \((sin(\theta),cos(\theta))\) which is also a \( SO(2) \) object. The difference lies in the tangent space of \(SE(2)\) and is representend by a vector of 3 reals. Therefore the output is: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; 3.33216</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;-1.38023</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;-2.35619</div></div><!-- fragment --><p> Note that the linear part is not following a straight path, it also takes into account that the system is rotating.</p>
<p>We can verify that this is the appropriate motion by integrating: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;SpecialEuclideanOperationTpl&lt;2,Scalar,Options&gt;::ConfigVector_t pose_check;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;aSE2.integrate(pose_s,delta_u,pose_check);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;std::cout &lt;&lt; pose_check &lt;&lt; std::endl;</div></div><!-- fragment --><p>The result is indeed:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;3</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;-1</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; 0</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;-1</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Aug 20 2019 11:12:35 for pinocchio by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
